<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saraaa‚ù§Ô∏è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        :root {
            --primary: #9ecce3;
            --deep: #195454;
            --teal: #d7e7ee;
            --warm: #996537;
            --olive: #996537;
        }
        body {
            font-family: 'Georgia', serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, var(--primary), var(--teal), var(--olive));
            min-height: 100vh;
        }
        /* Navigation */
        nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(25, 84, 84, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            z-index: 1000;
            box-shadow: 0 -2px 20px rgba(0,0,0,0.3);
        }
        nav button {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            padding: 10px 15px;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 10px;
        }
        nav button.active {
            background: var(--primary);
            transform: scale(1.1);
        }
        /* Page Container */
        .page {
            display: none;
            min-height: 100vh;
            padding: 20px 15px 80px;
            animation: fadeIn 0.5s;
        }
        .page.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Page 1 - Videos & Messages */
        .video-section {
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }
        .video-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin: 0 auto 20px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .video-container video {
            width: 100%;
            display: block;
            aspect-ratio: 9/16;
            background: #000;
        }
        .message-box {
            background: linear-gradient(135deg, rgba(158, 204, 227, 0.3), rgba(153, 101, 55, 0.3));
            padding: 20px;
            border-radius: 15px;
            color: white;
            line-height: 1.8;
            font-size: 16px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        /* Page 2 - Games */
        .game-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        .game-title {
            color: white;
            text-align: center;
            font-size: 24px;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        /* Jigsaw */
        #jigsaw-canvas {
            width: 100%;
            max-width: 400px;
            height: auto;
            aspect-ratio: 1;
            border: 3px solid var(--primary);
            border-radius: 10px;
            display: block;
            margin: 0 auto;
            background: white;
            touch-action: none;
        }
        .game-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        .game-controls button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .game-controls button:active {
            transform: scale(0.95);
            background: var(--deep);
        }
        /* Heart Maze */
        #maze-canvas {
            width: 100%;
            max-width: 400px;
            height: auto;
            aspect-ratio: 1;
            border: 3px solid var(--warm);
            border-radius: 10px;
            display: block;
            margin: 0 auto;
            background: white;
            touch-action: none;
        }
        /* Dot Connect */
        #dot-canvas {
            width: 100%;
            max-width: 400px;
            height: auto;
            aspect-ratio: 1;
            border: 3px solid var(--olive);
            border-radius: 10px;
            display: block;
            margin: 0 auto;
            background: white;
            touch-action: none;
        }
        /* Page 3 - Polaroid Gallery */
        .gallery-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            max-width: 500px;
            margin: 0 auto;
        }
        @media (min-width: 768px) {
            .gallery-grid {
                grid-template-columns: repeat(2, 1fr);
                max-width: 900px;
            }
        }
        .polaroid {
            background: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: transform 0.3s;
        }
        .polaroid:active {
            transform: scale(0.98);
        }
        .polaroid img {
            width: 100%;
            aspect-ratio: 9/16;
            object-fit: cover;
            border-radius: 3px;
            display: block;
        }
        .polaroid-caption {
            text-align: center;
            margin-top: 10px;
            font-family: 'Courier New', monospace;
            color: #333;
            font-size: 14px;
        }
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.95);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        .modal.active {
            display: flex;
        }
        .modal img {
            max-width: 95%;
            max-height: 95vh;
            object-fit: contain;
        }
        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
        }
        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
        }
        .modal-prev { left: 20px; }
        .modal-next { right: 20px; }
        /* Page 4 - Timeline */
        .timeline {
            position: relative;
            max-width: 500px;
            margin: 0 auto;
            padding: 20px 0;
        }
        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--olive));
        }
        .timeline-item {
            position: relative;
            margin-bottom: 50px;
            animation: slideIn 0.6s;
        }
        .timeline-item:nth-child(odd) {
            padding-right: 50%;
            text-align: right;
        }
        .timeline-item:nth-child(even) {
            padding-left: 50%;
            text-align: left;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .timeline-content {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        .timeline-date {
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 18px;
        }
        .timeline-text {
            color: #333;
            line-height: 1.6;
        }
        .timeline-image {
            width: 100%;
            max-width: 200px;
            aspect-ratio: 9/16;
            object-fit: cover;
            border-radius: 10px;
            margin-top: 10px;
        }
        .timeline-heart {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 30px;
            background: var(--warm);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
            z-index: 1;
        }
        /* Page 5 - Notepad */
        .notepad-container {
            max-width: 500px;
            margin: 0 auto;
            background: linear-gradient(to bottom, #d7e7ee, #9ecce3);
            border-radius: 10px;
            padding: 30px 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            position: relative;
        }
        .notepad-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 40px;
            width: 2px;
            height: 100%;
            background: #e8d4d4;
        }
        #notepad {
            width: 100%;
            min-height: 400px;
            background: transparent;
            border: none;
            font-family: 'Caveat', cursive, 'Comic Sans MS', cursive;
            font-size: 20px;
            line-height: 2;
            color: var(--deep);
            padding: 10px 10px 10px 60px;
            resize: vertical;
            outline: none;
        }
        .notepad-btn {
            display: block;
            width: 100%;
            max-width: 200px;
            margin: 20px auto 0;
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .notepad-btn:active {
            transform: scale(0.95);
            background: var(--deep);
        }
        /* Header */
        h1 {
            text-align: center;
            color: white;
            font-size: 32px;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
<!-- Page 1: Videos & Messages -->
<div class="page active" id="page1">
    <h1>Our Moments üíï</h1>
   
    <div class="video-section">
        <div class="video-container">
            <video controls>
                <source src="assets/video1.mp4" type="video/mp4">
                Your browser does not support videos.
            </video>
        </div>
        <div class="message-box">
            <p>Every moment with you feels like a beautiful dream come true. From the first time I saw you, I knew my life would never be the same. You bring light to my darkest days and joy to every moment we share. Your smile is my favorite sight, and your laughter is my favorite sound. I promise to cherish every second we have together, to support your dreams, and to love you more with each passing day. You are my everything, Saraaa ‚ù§Ô∏è</p>
        </div>
    </div>
    <div class="video-section">
        <div class="video-container">
            <video controls>
                <source src="assets/video2.mp4" type="video/mp4">
                Your browser does not support videos.
            </video>
        </div>
        <div class="message-box">
            <p>When I think about our future together, my heart fills with excitement and love. I imagine all the adventures we'll have, the memories we'll create, and the life we'll build together. You make me want to be a better person every single day. Thank you for being patient with me, for understanding me, and for loving me exactly as I am. With you by my side, I feel like I can conquer anything. You are my partner, my best friend, and the love of my life. Forever yours üíï</p>
        </div>
    </div>
</div>
<!-- Page 2: Games -->
<div class="page" id="page2">
    <h1>Play With Me üéÆ</h1>
   
    <!-- Jigsaw Puzzle -->
    <div class="game-container">
        <div class="game-title">üíó Jigsaw Puzzle</div>
        <div class="game-controls">
            <button onclick="initJigsaw(9)">Easy (3√ó3)</button>
            <button onclick="initJigsaw(16)">Medium (4√ó4)</button>
            <button onclick="initJigsaw(25)">Hard (5√ó5)</button>
        </div>
        <canvas id="jigsaw-canvas"></canvas>
    </div>
    <!-- Heart Maze -->
    <div class="game-container">
        <div class="game-title">üíï Heart Maze</div>
        <div class="game-controls">
            <button onclick="resetMaze()">Reset</button>
        </div>
        <canvas id="maze-canvas"></canvas>
        <p style="color: white; text-align: center; margin-top: 10px;">Drag/swipe to move! Reach the heart! ‚ù§Ô∏è</p>
    </div>
    <!-- Dot Heart Connect -->
    <div class="game-container">
        <div class="game-title">üîó Connect The Heart</div>
        <div class="game-controls">
            <button onclick="undoDot()">Undo</button>
            <button onclick="resetDots()">Reset</button>
        </div>
        <canvas id="dot-canvas"></canvas>
        <p style="color: white; text-align: center; margin-top: 10px;">Click/tap the dots to draw a heart! üíï</p>
    </div>
</div>
<!-- Page 3: Polaroid Gallery -->
<div class="page" id="page3">
    <h1>Our Gallery üì∏</h1>
    <div class="gallery-grid" id="gallery"></div>
</div>
<div class="modal" id="modal">
    <button class="modal-close" onclick="closeModal()">√ó</button>
    <button class="modal-nav modal-prev" onclick="prevImage()">‚Äπ</button>
    <img id="modal-img" src="" alt="">
    <button class="modal-nav modal-next" onclick="nextImage()">‚Ä∫</button>
</div>
<!-- Page 4: Timeline -->
<div class="page" id="page4">
    <h1>Our Story üíù</h1>
    <div class="timeline" id="timeline"></div>
</div>
<!-- Page 5: Notepad -->
<div class="page" id="page5">
    <h1>Love Notes üíå</h1>
    <div class="notepad-container">
        <textarea id="notepad" placeholder="Write your heart out..."></textarea>
        <button class="notepad-btn" onclick="downloadNote()">Download Note üìù</button>
    </div>
</div>
<!-- Navigation -->
<nav>
    <button class="active" onclick="showPage(1)">üé¨</button>
    <button onclick="showPage(2)">üéÆ</button>
    <button onclick="showPage(3)">üì∏</button>
    <button onclick="showPage(4)">üíù</button>
    <button onclick="showPage(5)">üíå</button>
</nav>
<script>
    // Navigation
    function showPage(n) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
        document.getElementById('page' + n).classList.add('active');
        document.querySelectorAll('nav button')[n-1].classList.add('active');
    }
    // JIGSAW PUZZLE
    let jigsawPieces = [];
    let jigsawSize = 3;
    let selectedPiece = null;
    let jigsawCanvas, jigsawCtx;
    function initJigsaw(pieces) {
        jigsawCanvas = document.getElementById('jigsaw-canvas');
        jigsawCtx = jigsawCanvas.getContext('2d');
        jigsawSize = Math.sqrt(pieces);
       
        const size = 400;
        jigsawCanvas.width = size;
        jigsawCanvas.height = size;
       
        const pieceSize = size / jigsawSize;
        jigsawPieces = [];
       
        for (let i = 0; i < jigsawSize; i++) {
            for (let j = 0; j < jigsawSize; j++) {
                jigsawPieces.push({
                    correct: {x: j * pieceSize, y: i * pieceSize},
                    current: {x: Math.random() * (size - pieceSize), y: Math.random() * (size - pieceSize)},
                    srcX: j * pieceSize,
                    srcY: i * pieceSize,
                    size: pieceSize,
                    placed: false
                });
            }
        }
       
        drawJigsaw();
    }
    function drawJigsaw() {
        jigsawCtx.clearRect(0, 0, jigsawCanvas.width, jigsawCanvas.height);
        jigsawCtx.fillStyle = '#f0f0f0';
        jigsawCtx.fillRect(0, 0, jigsawCanvas.width, jigsawCanvas.height);
       
        jigsawPieces.forEach(piece => {
            jigsawCtx.strokeStyle = '#195454';
            jigsawCtx.lineWidth = 2;
            jigsawCtx.strokeRect(piece.current.x, piece.current.y, piece.size, piece.size);
            jigsawCtx.fillStyle = piece.placed ? '#996537' : '#9ecce3';
            jigsawCtx.fillRect(piece.current.x, piece.current.y, piece.size, piece.size);
            jigsawCtx.fillStyle = 'white';
            jigsawCtx.font = '20px Arial';
            jigsawCtx.textAlign = 'center';
            jigsawCtx.fillText('‚ù§Ô∏è', piece.current.x + piece.size/2, piece.current.y + piece.size/2 + 7);
        });
    }
    function handleJigsawMouseDown(e) {
        const rect = jigsawCanvas.getBoundingClientRect();
        const x = (e.clientX - rect.left) * (jigsawCanvas.width / rect.width);
        const y = (e.clientY - rect.top) * (jigsawCanvas.height / rect.height);
       
        for (let i = jigsawPieces.length - 1; i >= 0; i--) {
            const p = jigsawPieces[i];
            if (x >= p.current.x && x <= p.current.x + p.size &&
                y >= p.current.y && y <= p.current.y + p.size) {
                selectedPiece = p;
                break;
            }
        }
    }
    function handleJigsawMouseMove(e) {
        if (selectedPiece) {
            const rect = jigsawCanvas.getBoundingClientRect();
            const x = (e.clientX - rect.left) * (jigsawCanvas.width / rect.width);
            const y = (e.clientY - rect.top) * (jigsawCanvas.height / rect.height);
            selectedPiece.current.x = x - selectedPiece.size / 2;
            selectedPiece.current.y = y - selectedPiece.size / 2;
            drawJigsaw();
        }
    }
    function handleJigsawMouseUp(e) {
        if (selectedPiece) {
            const dx = Math.abs(selectedPiece.current.x - selectedPiece.correct.x);
            const dy = Math.abs(selectedPiece.current.y - selectedPiece.correct.y);
            if (dx < 20 && dy < 20) {
                selectedPiece.current = {...selectedPiece.correct};
                selectedPiece.placed = true;
            }
            selectedPiece = null;
            drawJigsaw();
        }
    }
    jigsawCanvas = document.getElementById('jigsaw-canvas');
    jigsawCanvas.addEventListener('mousedown', handleJigsawMouseDown);
    jigsawCanvas.addEventListener('mousemove', handleJigsawMouseMove);
    jigsawCanvas.addEventListener('mouseup', handleJigsawMouseUp);
    jigsawCanvas.addEventListener('touchstart', e => {
        e.preventDefault();
        const rect = jigsawCanvas.getBoundingClientRect();
        const x = (e.touches[0].clientX - rect.left) * (jigsawCanvas.width / rect.width);
        const y = (e.touches[0].clientY - rect.top) * (jigsawCanvas.height / rect.height);
       
        for (let i = jigsawPieces.length - 1; i >= 0; i--) {
            const p = jigsawPieces[i];
            if (x >= p.current.x && x <= p.current.x + p.size &&
                y >= p.current.y && y <= p.current.y + p.size) {
                selectedPiece = p;
                break;
            }
        }
    });
    jigsawCanvas.addEventListener('touchmove', e => {
        e.preventDefault();
        if (selectedPiece) {
            const rect = jigsawCanvas.getBoundingClientRect();
            const x = (e.touches[0].clientX - rect.left) * (jigsawCanvas.width / rect.width);
            const y = (e.touches[0].clientY - rect.top) * (jigsawCanvas.height / rect.height);
            selectedPiece.current.x = x - selectedPiece.size / 2;
            selectedPiece.current.y = y - selectedPiece.size / 2;
            drawJigsaw();
        }
    });
    jigsawCanvas.addEventListener('touchend', e => {
        e.preventDefault();
        if (selectedPiece) {
            const dx = Math.abs(selectedPiece.current.x - selectedPiece.correct.x);
            const dy = Math.abs(selectedPiece.current.y - selectedPiece.correct.y);
            if (dx < 20 && dy < 20) {
                selectedPiece.current = {...selectedPiece.correct};
                selectedPiece.placed = true;
            }
            selectedPiece = null;
            drawJigsaw();
        }
    });
    initJigsaw(9);
    // HEART MAZE
    const mazeCanvas = document.getElementById('maze-canvas');
    const mazeCtx = mazeCanvas.getContext('2d');
    const mazeSize = 400;
    mazeCanvas.width = mazeSize;
    mazeCanvas.height = mazeSize;
   
    let playerPos = {x: 50, y: 350};
    let goalPos = {x: 350, y: 50};
    let touchStart = null;
    let mouseStart = null;
   
    function drawMaze() {
        mazeCtx.fillStyle = '#f0f0f0';
        mazeCtx.fillRect(0, 0, mazeSize, mazeSize);
       
        // Simple heart-shaped path
        mazeCtx.strokeStyle = '#996537';
        mazeCtx.lineWidth = 40;
        mazeCtx.beginPath();
        mazeCtx.moveTo(50, 350);
        mazeCtx.lineTo(50, 200);
        mazeCtx.bezierCurveTo(50, 100, 150, 50, 200, 100);
        mazeCtx.bezierCurveTo(250, 50, 350, 100, 350, 200);
        mazeCtx.lineTo(350, 50);
        mazeCtx.stroke();
       
        // Player
        mazeCtx.fillStyle = '#9ecce3';
        mazeCtx.beginPath();
        mazeCtx.arc(playerPos.x, playerPos.y, 15, 0, Math.PI * 2);
        mazeCtx.fill();
       
        // Goal
        mazeCtx.fillStyle = '#ff6b9d';
        mazeCtx.font = '30px Arial';
        mazeCtx.textAlign = 'center';
        mazeCtx.fillText('‚ù§Ô∏è', goalPos.x, goalPos.y + 10);
       
        // Check win
        const dist = Math.hypot(playerPos.x - goalPos.x, playerPos.y - goalPos.y);
        if (dist < 30) {
            mazeCtx.fillStyle = 'rgba(158, 204, 227, 0.8)';
            mazeCtx.fillRect(0, 0, mazeSize, mazeSize);
            mazeCtx.fillStyle = 'white';
            mazeCtx.font = '40px Arial';
            mazeCtx.textAlign = 'center';
            mazeCtx.fillText('You Win! üíï', mazeSize/2, mazeSize/2);
        }
    }
   
    function handleMazeTouchStart(e) {
        e.preventDefault();
        const rect = mazeCanvas.getBoundingClientRect();
        touchStart = {
            x: e.touches[0].clientX - rect.left,
            y: e.touches[0].clientY - rect.top
        };
    }
   
    function handleMazeTouchEnd(e) {
        e.preventDefault();
        if (!touchStart) return;
       
        const rect = mazeCanvas.getBoundingClientRect();
        const touchEnd = {
            x: e.changedTouches[0].clientX - rect.left,
            y: e.changedTouches[0].clientY - rect.top
        };
       
        const scaleX = mazeSize / rect.width;
        const scaleY = mazeSize / rect.height;
        const dx = (touchEnd.x - touchStart.x) * scaleX;
        const dy = (touchEnd.y - touchStart.y) * scaleY;
        const step = 30;
       
        if (Math.abs(dx) > Math.abs(dy)) {
            playerPos.x += dx > 0 ? step : -step;
        } else {
            playerPos.y += dy > 0 ? step : -step;
        }
       
        playerPos.x = Math.max(20, Math.min(mazeSize - 20, playerPos.x));
        playerPos.y = Math.max(20, Math.min(mazeSize - 20, playerPos.y));
       
        touchStart = null;
        drawMaze();
    }

    function handleMazeMouseDown(e) {
        const rect = mazeCanvas.getBoundingClientRect();
        mouseStart = {
            x: e.clientX - rect.left,
            y: e.clientY - rect.top
        };
    }
   
    function handleMazeMouseUp(e) {
        if (!mouseStart) return;
       
        const rect = mazeCanvas.getBoundingClientRect();
        const mouseEnd = {
            x: e.clientX - rect.left,
            y: e.clientY - rect.top
        };
       
        const scaleX = mazeSize / rect.width;
        const scaleY = mazeSize / rect.height;
        const dx = (mouseEnd.x - mouseStart.x) * scaleX;
        const dy = (mouseEnd.y - mouseStart.y) * scaleY;
        const step = 30;
       
        if (Math.abs(dx) > Math.abs(dy)) {
            playerPos.x += dx > 0 ? step : -step;
        } else {
            playerPos.y += dy > 0 ? step : -step;
        }
       
        playerPos.x = Math.max(20, Math.min(mazeSize - 20, playerPos.x));
        playerPos.y = Math.max(20, Math.min(mazeSize - 20, playerPos.y));
       
        mouseStart = null;
        drawMaze();
    }
   
    mazeCanvas.addEventListener('touchstart', handleMazeTouchStart);
    mazeCanvas.addEventListener('touchend', handleMazeTouchEnd);
    mazeCanvas.addEventListener('mousedown', handleMazeMouseDown);
    mazeCanvas.addEventListener('mouseup', handleMazeMouseUp);
   
    function resetMaze() {
        playerPos = {x: 50, y: 350};
        drawMaze();
    }
   
    drawMaze();
    // DOT CONNECT
    const dotCanvas = document.getElementById('dot-canvas');
    const dotCtx = dotCanvas.getContext('2d');
    const dotSize = 400;
    dotCanvas.width = dotSize;
    dotCanvas.height = dotSize;
   
    const heartDots = [
        {x: 200, y: 100}, {x: 150, y: 80}, {x: 100, y: 100},
        {x: 80, y: 150}, {x: 100, y: 250}, {x: 150, y: 320},
        {x: 200, y: 370}, {x: 250, y: 320}, {x: 300, y: 250},
        {x: 320, y: 150}, {x: 300, y: 100}, {x: 250, y: 80}
    ];
   
    let connectedDots = [];
   
    function drawDots() {
        dotCtx.fillStyle = '#f0f0f0';
        dotCtx.fillRect(0, 0, dotSize, dotSize);
       
        // Draw lines
        if (connectedDots.length > 1) {
            dotCtx.strokeStyle = '#195454';
            dotCtx.lineWidth = 3;
            dotCtx.beginPath();
            dotCtx.moveTo(connectedDots[0].x, connectedDots[0].y);
            for (let i = 1; i < connectedDots.length; i++) {
                dotCtx.lineTo(connectedDots[i].x, connectedDots[i].y);
            }
            dotCtx.stroke();
        }
       
        // Draw dots
        heartDots.forEach((dot, i) => {
            const connected = connectedDots.includes(dot);
            dotCtx.fillStyle = connected ? '#996537' : '#d7e7ee';
            dotCtx.beginPath();
            dotCtx.arc(dot.x, dot.y, 8, 0, Math.PI * 2);
            dotCtx.fill();
           
            dotCtx.fillStyle = 'white';
            dotCtx.font = '12px Arial';
            dotCtx.textAlign = 'center';
            dotCtx.fillText(i + 1, dot.x, dot.y + 4);
        });
       
        // Check completion
        if (connectedDots.length === heartDots.length) {
            dotCtx.strokeStyle = '#ff6b9d';
            dotCtx.lineWidth = 5;
            dotCtx.shadowBlur = 20;
            dotCtx.shadowColor = '#ff6b9d';
            dotCtx.beginPath();
            dotCtx.moveTo(connectedDots[0].x, connectedDots[0].y);
            connectedDots.forEach(dot => dotCtx.lineTo(dot.x, dot.y));
            dotCtx.closePath();
            dotCtx.stroke();
            dotCtx.shadowBlur = 0;
        }
    }

    function handleDotMouseDown(e) {
        const rect = dotCanvas.getBoundingClientRect();
        const x = (e.clientX - rect.left) * (dotSize / rect.width);
        const y = (e.clientY - rect.top) * (dotSize / rect.height);
       
        const clicked = heartDots.find(dot =>
            Math.hypot(dot.x - x, dot.y - y) < 20
        );
       
        if (clicked && !connectedDots.includes(clicked)) {
            connectedDots.push(clicked);
            drawDots();
        }
    }
   
    dotCanvas.addEventListener('mousedown', handleDotMouseDown);
    dotCanvas.addEventListener('touchstart', e => {
        e.preventDefault();
        const rect = dotCanvas.getBoundingClientRect();
        const x = (e.touches[0].clientX - rect.left) * (dotSize / rect.width);
        const y = (e.touches[0].clientY - rect.top) * (dotSize / rect.height);
       
        const clicked = heartDots.find(dot =>
            Math.hypot(dot.x - x, dot.y - y) < 20
        );
       
        if (clicked && !connectedDots.includes(clicked)) {
            connectedDots.push(clicked);
            drawDots();
        }
    });
   
    function undoDot() {
        connectedDots.pop();
        drawDots();
    }
   
    function resetDots() {
        connectedDots = [];
        drawDots();
    }
   
    drawDots();
    // GALLERY
    const images = [
        {src: 'assets/img1.jpg', caption: 'Forever Together üíï'},
        {src: 'assets/img2.jpg', caption: 'My Favorite Smile ‚ù§Ô∏è'},
        {src: 'assets/img3.jpg', caption: 'Beautiful Moments üå∏'},
        {src: 'assets/img4.jpg', caption: 'You & Me üíë'},
        {src: 'assets/img5.jpg', caption: 'Perfect Day üåü'},
        {src: 'assets/img6.jpg', caption: 'Love Always üíù'}
    ];
   
    let currentImageIndex = 0;
   
    function loadGallery() {
        const gallery = document.getElementById('gallery');
        gallery.innerHTML = images.map((img, i) => `
            <div class="polaroid" onclick="openModal(${i})">
                <img src="${img.src}" alt="${img.caption}">
                <div class="polaroid-caption">${img.caption}</div>
            </div>
        `).join('');
    }
   
    function openModal(index) {
        currentImageIndex = index;
        document.getElementById('modal-img').src = images[index].src;
        document.getElementById('modal').classList.add('active');
    }
   
    function closeModal() {
        document.getElementById('modal').classList.remove('active');
    }
   
    function prevImage() {
        currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
        document.getElementById('modal-img').src = images[currentImageIndex].src;
    }
   
    function nextImage() {
        currentImageIndex = (currentImageIndex + 1) % images.length;
        document.getElementById('modal-img').src = images[currentImageIndex].src;
    }
   
    loadGallery();
    // TIMELINE
    const timeline = [
        {
            date: 'The Beginning',
            text: 'The day we first met, I knew something special was about to begin. Your eyes captured my heart instantly.',
            image: 'assets/timeline1.jpg'
        },
        {
            date: 'First Date',
            text: 'Our first date was magical. Every moment talking with you felt like time stood still. I never wanted it to end.',
            image: 'assets/timeline2.jpg'
        },
        {
            date: 'Falling Deeper',
            text: 'With each passing day, I fell more in love with you. Your kindness, your laugh, your beautiful soul.',
            image: 'assets/timeline3.jpg'
        },
        {
            date: 'Our Adventure',
            text: 'Every adventure with you is my favorite. You make ordinary moments extraordinary.',
            image: 'assets/timeline4.jpg'
        },
        {
            date: 'Forever Promise',
            text: 'I promise to love you today, tomorrow, and for all the days after. You are my forever, Saraaa ‚ù§Ô∏è',
            image: 'assets/timeline5.jpg'
        }
    ];
   
    function loadTimeline() {
        const timelineEl = document.getElementById('timeline');
        timelineEl.innerHTML = timeline.map(item => `
            <div class="timeline-item">
                <div class="timeline-heart">‚ù§Ô∏è</div>
                <div class="timeline-content">
                    <div class="timeline-date">${item.date}</div>
                    <div class="timeline-text">${item.text}</div>
                    ${item.image ? `<img src="${item.image}" alt="${item.date}" class="timeline-image">` : ''}
                </div>
            </div>
        `).join('');
    }
   
    loadTimeline();
    // NOTEPAD
    const notepad = document.getElementById('notepad');
   
    // Load saved note
    const saved = localStorage.getItem('loveNote');
    if (saved) notepad.value = saved;
   
    // Auto-save
    notepad.addEventListener('input', () => {
        localStorage.setItem('loveNote', notepad.value);
    });
   
    function downloadNote() {
        const text = notepad.value || 'My love note for you... ‚ù§Ô∏è';
        const blob = new Blob([text], {type: 'text/plain'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'Love_Note_for_Saraaa.txt';
        a.click();
        URL.revokeObjectURL(url);
    }
    // Swipe gestures for modal
    let touchStartX = 0;
    const modal = document.getElementById('modal');
   
    modal.addEventListener('touchstart', e => {
        touchStartX = e.touches[0].clientX;
    });
   
    modal.addEventListener('touchend', e => {
        const touchEndX = e.changedTouches[0].clientX;
        const diff = touchStartX - touchEndX;
       
        if (Math.abs(diff) > 50) {
            if (diff > 0) nextImage();
            else prevImage();
        }
    });
</script>
</body>
</html>
